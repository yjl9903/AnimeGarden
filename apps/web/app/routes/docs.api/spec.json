{
  "openapi": "3.1.0",
  "info": {
    "title": "ğŸŒ¸ Anime Garden API",
    "description": "ğŸŒ¸ Anime Garden æ˜¯ [åŠ¨æ¼«èŠ±å›­](https://share.dmhy.org/) ç¬¬ä¸‰æ–¹é•œåƒç«™ä»¥åŠåŠ¨ç”» BT èµ„æºèšåˆç«™ã€‚\n\n+ â˜ï¸ ä¸ºå¼€å‘è€…å‡†å¤‡çš„å¼€æ”¾ API æ¥å£\n+ ğŸ“º æŸ¥çœ‹åŠ¨ç”»æ”¾é€æ—¶é—´è¡¨æ¥æ‰¾åˆ°ä½ å–œæ¬¢çš„åŠ¨ç”»\n+ ğŸ”– æ”¯æŒä¸°å¯Œçš„é«˜çº§æœç´¢ï¼Œä¾‹å¦‚ï¼š`è‘¬é€çš„èŠ™è‰è² +ç®€ä½“å†…åµŒ å­—å¹•ç»„:æ¡œéƒ½å­—å¹•ç»„ ç±»å‹:åŠ¨ç”»`\n+ ğŸ“™ è‡ªå®šä¹‰ RSS è®¢é˜…é“¾æ¥ï¼Œä¾‹å¦‚ï¼š[è‘¬é€çš„èŠ™è‰è²](https://animes.garden/feed.xml?filter=%5B%7B%22fansubId%22:%5B%22619%22%5D,%22type%22:%22%E5%8B%95%E7%95%AB%22,%22include%22:%5B%22%E8%91%AC%E9%80%81%E7%9A%84%E8%8A%99%E8%8E%89%E8%8E%B2%22%5D,%22keywords%22:%5B%22%E7%AE%80%E4%BD%93%E5%86%85%E5%B5%8C%22%5D%7D%5D)\n+ â­ æœç´¢æ¡ä»¶æ”¶è—å¤¹å’Œç”Ÿæˆèšåˆçš„ RSS è®¢é˜…é“¾æ¥\n+ ğŸ‘·â€â™‚ï¸ æ”¯æŒä¸ AutoBangumi å’Œ AnimeSpace é›†æˆ\n",
    "version": "0.0.0",
    "license": {
      "name": "MIT",
      "url": "https://github.com/yjl9903/AnimeGarden/blob/main/LICENSE"
    }
  },
  "externalDocs": {
    "description": "GitHub Repository",
    "url": "https://github.com/yjl9903/AnimeGarden"
  },
  "servers": [
    {
      "url": "https://api.animes.garden",
      "description": "API æœåŠ¡å™¨"
    }
  ],
  "paths": {
    "/": {
      "get": {
        "summary": "è·å–APIçŠ¶æ€ä¿¡æ¯",
        "description": "è·å–APIåŸºç¡€ä¿¡æ¯ã€æ—¶é—´æˆ³å’Œæä¾›å•†çŠ¶æ€",
        "operationId": "getStatus",
        "tags": ["Status"],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–çŠ¶æ€ä¿¡æ¯",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Anime Garden å‹•æ¼«èŠ±åœ’ é•œåƒç«™ / åŠ¨ç”» BT èµ„æºèšåˆç«™"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time",
                      "description": "æœ€åæ›´æ–°æ—¶é—´æˆ³"
                    },
                    "providers": {
                      "type": "object",
                      "properties": {
                        "dmhy": { "$ref": "#/components/schemas/Provider" },
                        "moe": { "$ref": "#/components/schemas/Provider" },
                        "ani": { "$ref": "#/components/schemas/Provider" }
                      },
                      "required": ["dmhy", "moe", "ani"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["message", "timestamp", "providers"]
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "summary": "è·å–ç”¨æˆ·åˆ—è¡¨",
        "description": "è·å–æ‰€æœ‰å‘å¸ƒè€…ç”¨æˆ·ä¿¡æ¯",
        "operationId": "getUsers",
        "tags": ["Users"],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–ç”¨æˆ·åˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    }
                  },
                  "required": ["status", "users"]
                }
              }
            }
          }
        }
      }
    },
    "/teams": {
      "get": {
        "summary": "è·å–å­—å¹•ç»„åˆ—è¡¨",
        "description": "è·å–æ‰€æœ‰å­—å¹•ç»„ä¿¡æ¯",
        "operationId": "getTeams",
        "tags": ["Users"],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–å­—å¹•ç»„åˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "teams": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Team"
                      }
                    }
                  },
                  "required": ["status", "teams"]
                }
              }
            }
          }
        }
      }
    },
    "/subjects": {
      "get": {
        "summary": "è·å–ä¸»é¢˜åˆ—è¡¨",
        "description": "è·å–æ‰€æœ‰ç•ªå‰§ä¸»é¢˜ä¿¡æ¯",
        "operationId": "getSubjects",
        "tags": ["Subjects"],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–ä¸»é¢˜åˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "subjects": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Subject"
                      }
                    }
                  },
                  "required": ["status", "subjects"]
                }
              }
            }
          }
        }
      }
    },
    "/resources": {
      "get": {
        "summary": "è·å–èµ„æºåˆ—è¡¨",
        "description": "è·å–æ‰€æœ‰æä¾›å•†çš„èµ„æºåˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µå’Œè¿‡æ»¤",
        "operationId": "getResources",
        "tags": ["Resources"],
        "parameters": [
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/PageSizeParam"
          },
          {
            "$ref": "#/components/parameters/ProviderParam"
          },
          {
            "$ref": "#/components/parameters/SearchParam"
          },
          {
            "$ref": "#/components/parameters/IncludeParam"
          },
          {
            "$ref": "#/components/parameters/KeywordsParam"
          },
          {
            "$ref": "#/components/parameters/ExcludeParam"
          },
          {
            "$ref": "#/components/parameters/TypeParam"
          },
          {
            "$ref": "#/components/parameters/SubjectParam"
          },
          {
            "$ref": "#/components/parameters/FansubParam"
          },
          {
            "$ref": "#/components/parameters/PublisherParam"
          },
          {
            "$ref": "#/components/parameters/AfterParam"
          },
          {
            "$ref": "#/components/parameters/BeforeParam"
          },
          {
            "$ref": "#/components/parameters/DuplicateParam"
          },
          {
            "$ref": "#/components/parameters/TrackerParam"
          },
          {
            "$ref": "#/components/parameters/MetadataParam"
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºåˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourcesResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "è·å–èµ„æºåˆ—è¡¨ (POST)",
        "description": "ä½¿ç”¨POSTæ–¹æ³•è·å–èµ„æºåˆ—è¡¨ï¼Œæ”¯æŒå¤æ‚çš„è¿‡æ»¤æ¡ä»¶",
        "operationId": "postResources",
        "tags": ["Resources"],
        "parameters": [
          {
            "$ref": "#/components/parameters/TrackerParam"
          },
          {
            "$ref": "#/components/parameters/MetadataParam"
          }
        ],
        "requestBody": {
          "description": "è¿‡æ»¤å’Œåˆ†é¡µå‚æ•°",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResourcesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºåˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourcesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/resources/{provider}": {
      "get": {
        "summary": "è·å–æŒ‡å®šæä¾›å•†çš„èµ„æºåˆ—è¡¨",
        "description": "è·å–æŒ‡å®šæä¾›å•†çš„èµ„æºåˆ—è¡¨",
        "operationId": "getProviderResources",
        "tags": ["Resources"],
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "description": "æä¾›å•†åç§°",
            "schema": {
              "type": "string",
              "enum": ["dmhy", "moe", "ani"]
            }
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/PageSizeParam"
          },
          {
            "$ref": "#/components/parameters/SearchParam"
          },
          {
            "$ref": "#/components/parameters/IncludeParam"
          },
          {
            "$ref": "#/components/parameters/KeywordsParam"
          },
          {
            "$ref": "#/components/parameters/ExcludeParam"
          },
          {
            "$ref": "#/components/parameters/TypeParam"
          },
          {
            "$ref": "#/components/parameters/SubjectParam"
          },
          {
            "$ref": "#/components/parameters/FansubParam"
          },
          {
            "$ref": "#/components/parameters/PublisherParam"
          },
          {
            "$ref": "#/components/parameters/AfterParam"
          },
          {
            "$ref": "#/components/parameters/BeforeParam"
          },
          {
            "$ref": "#/components/parameters/DuplicateParam"
          },
          {
            "$ref": "#/components/parameters/TrackerParam"
          },
          {
            "$ref": "#/components/parameters/MetadataParam"
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºåˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourcesResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "è·å–æŒ‡å®šæä¾›å•†çš„èµ„æºåˆ—è¡¨ (POST)",
        "description": "ä½¿ç”¨POSTæ–¹æ³•è·å–æŒ‡å®šæä¾›å•†çš„èµ„æºåˆ—è¡¨",
        "operationId": "postProviderResources",
        "tags": ["Resources"],
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "description": "æä¾›å•†åç§°",
            "schema": {
              "type": "string",
              "enum": ["dmhy", "moe", "ani"]
            }
          },
          {
            "$ref": "#/components/parameters/TrackerParam"
          },
          {
            "$ref": "#/components/parameters/MetadataParam"
          }
        ],
        "requestBody": {
          "description": "è¿‡æ»¤å’Œåˆ†é¡µå‚æ•°",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResourcesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºåˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourcesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/detail/{provider}/{id}": {
      "get": {
        "summary": "è·å–èµ„æºè¯¦æƒ… (åˆ«å)",
        "description": "è·å–æŒ‡å®šèµ„æºçš„è¯¦ç»†ä¿¡æ¯ï¼ˆä¸/resource/{provider}/{id}ç›¸åŒï¼‰",
        "operationId": "getDetailAlias",
        "tags": ["Resources"],
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "description": "æä¾›å•†åç§°",
            "schema": {
              "type": "string",
              "enum": ["dmhy", "moe", "ani"]
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "èµ„æºID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºè¯¦æƒ…",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "detail": {
                      "$ref": "#/components/schemas/ResourceDetail"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  },
                  "required": ["status", "detail", "timestamp"]
                }
              }
            }
          },
          "400": {
            "description": "èµ„æºä¸å­˜åœ¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/collection": {
      "post": {
        "summary": "åˆ›å»ºæ”¶è—å¤¹",
        "description": "åˆ›å»ºæ–°çš„æ”¶è—å¤¹",
        "operationId": "createCollection",
        "tags": ["Collections"],
        "requestBody": {
          "required": true,
          "description": "æ”¶è—å¤¹ä¿¡æ¯",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "æˆåŠŸåˆ›å»ºæ”¶è—å¤¹",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "id": {
                      "type": "integer",
                      "description": "æ”¶è—å¤¹ID"
                    },
                    "hash": {
                      "type": "string",
                      "description": "æ”¶è—å¤¹å“ˆå¸Œå€¼"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  },
                  "required": ["status", "id", "hash", "createdAt", "timestamp"]
                }
              }
            }
          },
          "400": {
            "description": "æ”¶è—å¤¹æ ¼å¼é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "åˆ›å»ºæˆ–æ›´æ–°æ”¶è—å¤¹",
        "description": "åˆ›å»ºæˆ–æ›´æ–°æ”¶è—å¤¹ï¼ˆä¸POSTç›¸åŒï¼‰",
        "operationId": "upsertCollection",
        "tags": ["Collections"],
        "requestBody": {
          "required": true,
          "description": "æ”¶è—å¤¹ä¿¡æ¯",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "æˆåŠŸåˆ›å»ºæ”¶è—å¤¹",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "id": {
                      "type": "integer",
                      "description": "æ”¶è—å¤¹ID"
                    },
                    "hash": {
                      "type": "string",
                      "description": "æ”¶è—å¤¹å“ˆå¸Œå€¼"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  },
                  "required": ["status", "id", "hash", "createdAt", "timestamp"]
                }
              }
            }
          },
          "400": {
            "description": "æ”¶è—å¤¹æ ¼å¼é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/collection/{hash}": {
      "get": {
        "summary": "è·å–æ”¶è—å¤¹å†…å®¹",
        "description": "æ ¹æ®å“ˆå¸Œå€¼è·å–æ”¶è—å¤¹åŠå…¶åŒ…å«çš„èµ„æº",
        "operationId": "getCollection",
        "tags": ["Collections"],
        "parameters": [
          {
            "name": "hash",
            "in": "path",
            "required": true,
            "description": "æ”¶è—å¤¹å“ˆå¸Œå€¼",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–æ”¶è—å¤¹",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "hash": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "resources": {
                            "type": "array",
                            "items": {
                              "$ref": "#/components/schemas/Resource"
                            }
                          },
                          "complete": {
                            "type": "boolean"
                          },
                          "filter": {
                            "$ref": "#/components/schemas/FilterOptions"
                          }
                        },
                        "required": ["resources", "complete"]
                      }
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  },
                  "required": ["status", "hash", "name", "createdAt", "results", "timestamp"]
                }
              }
            }
          },
          "400": {
            "description": "æ”¶è—å¤¹ä¸å­˜åœ¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/feed.xml": {
      "get": {
        "summary": "è·å–RSSè®¢é˜…æº",
        "description": "è·å–èµ„æºçš„RSSè®¢é˜…æº",
        "operationId": "getRSSFeed",
        "tags": ["Feed"],
        "parameters": [
          {
            "$ref": "#/components/parameters/SearchParam"
          },
          {
            "$ref": "#/components/parameters/IncludeParam"
          },
          {
            "$ref": "#/components/parameters/KeywordsParam"
          },
          {
            "$ref": "#/components/parameters/ExcludeParam"
          },
          {
            "$ref": "#/components/parameters/TypeParam"
          },
          {
            "$ref": "#/components/parameters/SubjectParam"
          },
          {
            "$ref": "#/components/parameters/FansubParam"
          },
          {
            "$ref": "#/components/parameters/PublisherParam"
          },
          {
            "$ref": "#/components/parameters/AfterParam"
          },
          {
            "$ref": "#/components/parameters/BeforeParam"
          },
          {
            "name": "tracker",
            "in": "query",
            "description": "æ˜¯å¦åŒ…å«Trackerä¿¡æ¯",
            "schema": {
              "type": "string",
              "enum": ["true", "false", "on", "off", "yes", "no"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "RSS XMLå†…å®¹",
            "content": {
              "application/xml": {
                "schema": {
                  "type": "string",
                  "description": "RSS XMLæ ¼å¼çš„è®¢é˜…æº"
                }
              }
            }
          }
        }
      }
    },
    "/collection/{hash}/feed.xml": {
      "get": {
        "summary": "è·å–æ”¶è—å¤¹RSSè®¢é˜…æº",
        "description": "è·å–æŒ‡å®šæ”¶è—å¤¹çš„RSSè®¢é˜…æº",
        "operationId": "getCollectionRSSFeed",
        "tags": ["Feed"],
        "parameters": [
          {
            "name": "hash",
            "in": "path",
            "required": true,
            "description": "æ”¶è—å¤¹å“ˆå¸Œå€¼",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tracker",
            "in": "query",
            "description": "æ˜¯å¦åŒ…å«Trackerä¿¡æ¯",
            "schema": {
              "type": "string",
              "enum": ["true", "false", "on", "off", "yes", "no"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "RSS XMLå†…å®¹",
            "content": {
              "application/xml": {
                "schema": {
                  "type": "string",
                  "description": "RSS XMLæ ¼å¼çš„è®¢é˜…æº"
                }
              }
            }
          },
          "400": {
            "description": "æ”¶è—å¤¹ä¸å­˜åœ¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sitemaps/subjects": {
      "get": {
        "summary": "è·å–ä¸»é¢˜ç«™ç‚¹åœ°å›¾",
        "description": "è·å–æ‰€æœ‰ä¸»é¢˜çš„ç«™ç‚¹åœ°å›¾ä¿¡æ¯",
        "operationId": "getSubjectsSitemap",
        "tags": ["Sitemap"],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–ä¸»é¢˜ç«™ç‚¹åœ°å›¾",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "subjects": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "activedAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "isArchived": {
                            "type": "boolean"
                          }
                        },
                        "required": ["id", "activedAt", "isArchived"]
                      }
                    }
                  },
                  "required": ["status", "subjects"]
                }
              }
            }
          }
        }
      }
    },
    "/sitemaps/{year}/{month}": {
      "get": {
        "summary": "è·å–æŒ‡å®šæœˆä»½çš„èµ„æºç«™ç‚¹åœ°å›¾",
        "description": "è·å–æŒ‡å®šå¹´æœˆçš„èµ„æºç«™ç‚¹åœ°å›¾ä¿¡æ¯",
        "operationId": "getResourcesSitemap",
        "tags": ["Sitemap"],
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "description": "å¹´ä»½",
            "schema": {
              "type": "integer",
              "minimum": 2020
            }
          },
          {
            "name": "month",
            "in": "path",
            "required": true,
            "description": "æœˆä»½",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–èµ„æºç«™ç‚¹åœ°å›¾",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "count": {
                      "type": "integer"
                    },
                    "resources": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "provider": {
                            "type": "string"
                          },
                          "providerId": {
                            "type": "string"
                          },
                          "fetchedAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        },
                        "required": ["id", "provider", "providerId", "fetchedAt"]
                      }
                    }
                  },
                  "required": ["status", "count", "resources"]
                }
              }
            }
          },
          "400": {
            "description": "å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["ERROR"]
                    },
                    "resources": {
                      "type": "array",
                      "items": {}
                    }
                  },
                  "required": ["status", "resources"]
                }
              }
            }
          }
        }
      }
    },
    "/admin/providers": {
      "post": {
        "summary": "è·å–æä¾›å•†çŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰",
        "description": "è·å–æ‰€æœ‰æä¾›å•†çš„è¯¦ç»†çŠ¶æ€ä¿¡æ¯",
        "operationId": "getProvidersStatus",
        "tags": ["Admin"],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸè·å–æä¾›å•†çŠ¶æ€",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "providers": {
                      "type": "object",
                      "additionalProperties": {
                        "$ref": "#/components/schemas/Provider"
                      }
                    }
                  },
                  "required": ["status", "providers"]
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/resources/{provider}": {
      "post": {
        "summary": "æŠ“å–æŒ‡å®šæä¾›å•†çš„èµ„æºï¼ˆç®¡ç†å‘˜ï¼‰",
        "description": "ä»æŒ‡å®šæä¾›å•†æŠ“å–æœ€æ–°èµ„æº",
        "operationId": "fetchProviderResources",
        "tags": ["Admin"],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "description": "æä¾›å•†åç§°",
            "schema": {
              "type": "string",
              "enum": ["dmhy", "moe", "ani"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸæŠ“å–èµ„æº",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "teams": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Team"
                      }
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "inserted": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          }
                        },
                        "duplicated": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          }
                        }
                      },
                      "required": ["inserted", "duplicated"]
                    }
                  },
                  "required": ["status"]
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/resources/{provider}/sync": {
      "post": {
        "summary": "åŒæ­¥æŒ‡å®šæä¾›å•†çš„èµ„æºï¼ˆç®¡ç†å‘˜ï¼‰",
        "description": "åŒæ­¥æŒ‡å®šæä¾›å•†æŒ‡å®šé¡µé¢èŒƒå›´çš„èµ„æº",
        "operationId": "syncProviderResources",
        "tags": ["Admin"],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "description": "æä¾›å•†åç§°",
            "schema": {
              "type": "string",
              "enum": ["dmhy", "moe", "ani"]
            }
          },
          {
            "name": "start",
            "in": "query",
            "description": "èµ·å§‹é¡µé¢",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "end",
            "in": "query",
            "description": "ç»“æŸé¡µé¢",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æˆåŠŸåŒæ­¥èµ„æº",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["OK"]
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "updated": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "provider": {
                                "type": "string"
                              },
                              "providerId": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              }
                            },
                            "required": ["id", "provider", "providerId", "title"]
                          }
                        },
                        "deleted": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              }
                            },
                            "required": ["id"]
                          }
                        }
                      },
                      "required": ["updated", "deleted"]
                    }
                  },
                  "required": ["status"]
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "ApiTokenAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "authorization",
        "description": "ç®¡ç†å‘˜ API éœ€è¦åœ¨ header ä¸­ç›´æ¥é…ç½® secret token"
      }
    },
    "parameters": {
      "PageParam": {
        "name": "page",
        "in": "query",
        "description": "é¡µç ",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        }
      },
      "PageSizeParam": {
        "name": "pageSize",
        "in": "query",
        "description": "æ¯é¡µæ•°é‡",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000,
          "default": 100
        }
      },
      "ProviderParam": {
        "name": "provider",
        "in": "query",
        "description": "æä¾›å•†è¿‡æ»¤",
        "schema": {
          "type": "string",
          "enum": ["dmhy", "moe", "ani"]
        }
      },
      "SearchParam": {
        "name": "search",
        "in": "query",
        "description": "æœç´¢å…³é”®è¯ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰",
        "schema": {
          "type": "string"
        }
      },
      "IncludeParam": {
        "name": "include",
        "in": "query",
        "description": "åŒ…å«å…³é”®è¯ï¼ˆè‡³å°‘åŒ…å«å…¶ä¸­ä¸€ä¸ªï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰",
        "schema": {
          "type": "string"
        }
      },
      "KeywordsParam": {
        "name": "keywords",
        "in": "query",
        "description": "å¿…é¡»åŒ…å«çš„å…³é”®è¯ï¼ˆå¿…é¡»åŒ…å«å…¨éƒ¨ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰",
        "schema": {
          "type": "string"
        }
      },
      "ExcludeParam": {
        "name": "exclude",
        "in": "query",
        "description": "æ’é™¤å…³é”®è¯ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰",
        "schema": {
          "type": "string"
        }
      },
      "TypeParam": {
        "name": "type",
        "in": "query",
        "description": "èµ„æºç±»å‹è¿‡æ»¤",
        "schema": {
          "type": "string"
        }
      },
      "SubjectParam": {
        "name": "subject",
        "in": "query",
        "description": "ç•ªå‰§ä¸»é¢˜IDè¿‡æ»¤",
        "schema": {
          "type": "integer"
        }
      },
      "FansubParam": {
        "name": "fansub",
        "in": "query",
        "description": "å­—å¹•ç»„è¿‡æ»¤",
        "schema": {
          "type": "string"
        }
      },
      "PublisherParam": {
        "name": "publisher",
        "in": "query",
        "description": "å‘å¸ƒè€…è¿‡æ»¤",
        "schema": {
          "type": "string"
        }
      },
      "AfterParam": {
        "name": "after",
        "in": "query",
        "description": "èµ·å§‹æ—¶é—´è¿‡æ»¤ï¼ˆISO 8601æ ¼å¼ï¼‰",
        "schema": {
          "type": "string",
          "format": "date-time"
        }
      },
      "BeforeParam": {
        "name": "before",
        "in": "query",
        "description": "ç»“æŸæ—¶é—´è¿‡æ»¤ï¼ˆISO 8601æ ¼å¼ï¼‰",
        "schema": {
          "type": "string",
          "format": "date-time"
        }
      },
      "DuplicateParam": {
        "name": "duplicate",
        "in": "query",
        "description": "æ˜¯å¦åŒ…å«é‡å¤èµ„æº",
        "schema": {
          "type": "boolean",
          "default": false
        }
      },
      "TrackerParam": {
        "name": "tracker",
        "in": "query",
        "description": "æ˜¯å¦è¿”å›trackerä¿¡æ¯",
        "schema": {
          "type": "boolean",
          "default": false
        }
      },
      "MetadataParam": {
        "name": "metadata",
        "in": "query",
        "description": "æ˜¯å¦è¿”å›metadataä¿¡æ¯",
        "schema": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "schemas": {
      "Provider": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "enum": ["dmhy", "moe", "ani"]
          },
          "name": {
            "type": "string"
          },
          "refreshedAt": {
            "type": "string",
            "format": "date-time"
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "required": ["id", "name", "refreshedAt", "isActive"]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "provider": {
            "type": "string"
          },
          "providerId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar": {
            "type": "string",
            "nullable": true
          }
        },
        "required": ["id", "provider", "providerId", "name"]
      },
      "Team": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "provider": {
            "type": "string"
          },
          "providerId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar": {
            "type": "string",
            "nullable": true
          }
        },
        "required": ["id", "provider", "providerId", "name"]
      },
      "Subject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Bangumi subject ID"
          },
          "name": {
            "type": "string"
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "activedAt": {
            "type": "string",
            "format": "date-time"
          },
          "isArchived": {
            "type": "boolean"
          }
        },
        "required": ["id", "name", "keywords", "activedAt", "isArchived"]
      },
      "Resource": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "provider": {
            "type": "string"
          },
          "providerId": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "href": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "magnet": {
            "type": "string"
          },
          "tracker": {
            "type": "string",
            "nullable": true,
            "description": "å½“trackerå‚æ•°ä¸ºtrueæ—¶è¿”å›"
          },
          "size": {
            "type": "integer"
          },
          "fansub": {
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "avatar": {
                "type": "string",
                "nullable": true
              }
            },
            "required": ["id", "name"]
          },
          "publisher": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "avatar": {
                "type": "string",
                "nullable": true
              }
            },
            "required": ["id", "name"]
          },
          "subjectId": {
            "type": "integer",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "fetchedAt": {
            "type": "string",
            "format": "date-time"
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "description": "å½“metadataå‚æ•°ä¸ºtrueæ—¶è¿”å›",
            "properties": {
              "anipar": {
                "type": "object",
                "description": "Aniparè§£æç»“æœ"
              }
            }
          }
        },
        "required": ["id", "provider", "providerId", "title", "href", "type", "magnet", "size", "publisher", "createdAt", "fetchedAt"]
      },
      "ResourceDetail": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "files": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "size": {
                  "type": "string"
                }
              },
              "required": ["name", "size"]
            }
          },
          "magnets": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                }
              },
              "required": ["name", "url"]
            }
          },
          "hasMoreFiles": {
            "type": "boolean"
          }
        },
        "required": ["description", "files", "magnets", "hasMoreFiles"]
      },
      "FilterOptions": {
        "type": "object",
        "properties": {
          "preset": {
            "type": "string",
            "enum": ["bangumi"]
          },
          "provider": {
            "type": "string",
            "enum": ["dmhy", "moe", "ani"]
          },
          "duplicate": {
            "type": "boolean"
          },
          "types": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "after": {
            "type": "string",
            "format": "date-time"
          },
          "before": {
            "type": "string",
            "format": "date-time"
          },
          "fansubs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "publishers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "subjects": {
            "type": "array",
            "items": {
              "type": "integer"
            }
          },
          "search": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "include": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "exclude": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PaginationInfo": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer"
          },
          "pageSize": {
            "type": "integer"
          },
          "complete": {
            "type": "boolean"
          }
        },
        "required": ["page", "pageSize", "complete"]
      },
      "ResourcesRequest": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "default": 1
          },
          "pageSize": {
            "type": "integer",
            "minimum": 1,
            "maximum": 1000,
            "default": 100
          },
          "provider": {
            "type": "string",
            "enum": ["dmhy", "moe", "ani"]
          },
          "duplicate": {
            "type": "boolean",
            "default": false
          },
          "after": {
            "type": "string",
            "format": "date-time"
          },
          "before": {
            "type": "string",
            "format": "date-time"
          },
          "search": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "include": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "keywords": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "exclude": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "type": {
            "type": "string"
          },
          "types": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "subject": {
            "type": "integer"
          },
          "subjects": {
            "type": "array",
            "items": {
              "type": "integer"
            }
          },
          "fansub": {
            "type": "string"
          },
          "fansubs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "publisher": {
            "type": "string"
          },
          "publishers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "preset": {
            "type": "string",
            "enum": ["bangumi"]
          }
        }
      },
      "ResourcesResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["OK"]
          },
          "complete": {
            "type": "boolean",
            "description": "ä¸ºäº†å…¼å®¹æ€§ä¿ç•™ï¼Œä¸pagination.completeç›¸åŒ"
          },
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Resource"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationInfo"
          },
          "filter": {
            "$ref": "#/components/schemas/FilterOptions"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["status", "complete", "resources", "pagination", "filter", "timestamp"]
      },
      "CollectionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "authorization": {
            "type": "string"
          },
          "filters": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "searchParams": {
                  "type": "string"
                }
              },
              "required": ["name"],
              "additionalProperties": true
            }
          }
        },
        "required": ["name", "authorization", "filters"]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["ERROR"]
          },
          "message": {
            "type": "string"
          }
        },
        "required": ["status", "message"]
      }
    }
  },
  "tags": [
    {
      "name": "Status",
      "description": "APIçŠ¶æ€å’ŒåŸºç¡€ä¿¡æ¯"
    },
    {
      "name": "Resources",
      "description": "èµ„æºç›¸å…³æ¥å£ï¼ŒåŒ…æ‹¬æœç´¢ã€è¿‡æ»¤å’Œè¯¦æƒ…æŸ¥è¯¢"
    },
    {
      "name": "Users",
      "description": "ç”¨æˆ·å’Œå­—å¹•ç»„ç›¸å…³æ¥å£"
    },
    {
      "name": "Subjects",
      "description": "ç•ªå‰§ä¸»é¢˜ç›¸å…³æ¥å£"
    },
    {
      "name": "Collections",
      "description": "æ”¶è—å¤¹ç›¸å…³æ¥å£ï¼Œæ”¯æŒåˆ›å»ºå’ŒæŸ¥è¯¢"
    },
    {
      "name": "Feed",
      "description": "RSSè®¢é˜…æºç›¸å…³æ¥å£"
    },
    {
      "name": "Sitemap",
      "description": "ç«™ç‚¹åœ°å›¾ç›¸å…³æ¥å£ï¼Œç”¨äºSEOä¼˜åŒ–"
    },
    {
      "name": "Admin",
      "description": "ç®¡ç†å‘˜æ¥å£ï¼ˆéœ€è¦Bearer Tokenè®¤è¯ï¼‰"
    }
  ]
}